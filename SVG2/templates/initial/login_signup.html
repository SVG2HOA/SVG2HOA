{% load static tailwind_tags %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://kit.fontawesome.com/9aabea4551.js" crossorigin="anonymous"></script>
        <link rel="shortcut icon" href="{%  static 'images/icon.png' %}">
    <title>Sign in & Sign up Form</title>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800&display=swap");

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body,
input {
  font-family: "Poppins", sans-serif;
}

.container {
  position: relative;
  width: 100%;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  min-height: 100vh;
  overflow: hidden;
}

.overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.3));
  filter: blur(100px);
  z-index: 1;
}

.content {
  position: relative;
  z-index: 2;
  padding: 20px;
}


.forms-container {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
}

.signin-signup {
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
  left: 75%;
  width: 50%;
  transition: 1s 0.7s ease-in-out;
  display: grid;
  grid-template-columns: 1fr;
  z-index: 5;
}
.hover-green {
        color: white;
        text-decoration: none;
        font-size: 15px; /* Optional: remove underline */
    }

    .hover-green:hover {
        color: green;
    }

form {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  padding: 0rem 5rem;
  transition: all 0.2s 0.7s;
  overflow: hidden;
  grid-column: 1 / 2;
  grid-row: 1 / 2;
}

form.sign-up-form {
  opacity: 0;
  z-index: 1;
}

form.sign-in-form {
  z-index: 2;
}

.title {
  font-size: 2.2rem;
  color: #ffffff;
  margin-bottom: 10px;
}

.input-field {
  max-width: 380px;
  width: 100%;
  background-color: #e8f0fe;
  margin: 10px 0;
  height: 55px;
  border-radius: 55px;
  display: flex;
  grid-template-columns: 15% 85%;
  padding: 0 0.4rem;
  position: relative;
  align-items: center;
  border: black;
  border-width: 10px;
}

.input-field i {
  text-align: center;
  line-height: 55px;
  color: rgb(26, 26, 26);
  transition: 0.5s;
  font-size: 1.1rem;
  padding: 10px;
}

.input-field input {
  background: #e8f0fe;
  outline: none;
  border: none;
  line-height: 1;
  font-weight: 600;
  font-size: 1.1rem;
  color: rgb(26, 26, 26);
  width: 100%;
  padding-right: 40px; /* Space for the toggle button */
}
.input-field button {
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 1rem;
}

.input-field input::placeholder {
  color: rgb(26, 26, 26);
  font-weight: 600;
  font-size: 1.1rem;
}

.input-field.user-type {
    display: flex;
    align-items: center;
    position: relative;
    background-color: #f5f5f5; /* Match input background */
    border-radius: 9999px; /* Fully rounded corners */
    padding: 0.5rem 1rem;
}

.input-field.user-type select {
    background: none;
    outline: none;
    border: none;
    appearance: none;
    background-color: none;
    line-height: 1;
    font-weight: 600;
    font-size: 1.1rem;
    color: rgb(26, 26, 26);
    width: 100%;
    padding-right: 40px;
}

.input-field.user-type .fa-chevron-down {
    position: absolute;
    right: 1rem; /* Align icon to the right */
    pointer-events: none; /* Make icon unclickable */
}


.input-field .password-input {
    width: 100%;
    padding-left: 40px; /* Space for icons */
    border: none;
    background: transparent;
    outline: none;
    font-size: 1.1rem;
    font-weight: 600;
    color: #333;
    border-radius: 10px;
}

.input-field.user-type i {
  text-align: center;
  line-height: 55px;
  color: rgb(26, 26, 26);
  transition: 0.5s;
  font-size: 1.1rem;
  font-weight: 600;
  padding: 10px;
  border: none;
}
.terms {
  color: lightgreen;
  text-decoration: none;

}
.terms:hover {
  color:green;
}
/* Container for the error messages */
.error-messages {
  background-color: #970000;  /* Light red background */
  border: none;  /* Red border */
  color: #ffffff;             /* Dark red text */
  padding: 15px;
  border-radius: 5px;
  margin-top: 0px;
  font-size: 1rem;
}

/* Style for the error list */
.error-messages ul {
  list-style-type: none; /* Remove default list styles */
  padding: 0;
  margin: 0;
}

/* Style for each error item */
.error-messages li {
  margin-bottom: 8px; /* Space between each error */
}

.success-messages {
  background-color: green;  /* Light red background */
  border: none;  /* Red border */
  color: #ffffff;             /* Dark red text */
  padding: 15px;
  border-radius: 5px;
  margin: 0px;
  font-size: 1rem;
}

/* Style for the error list */
.error-messages ul {
  list-style-type: none; /* Remove default list styles */
  padding: 0;
  margin: 0;
}

/* Style for each error item */
.success-messages li {
  margin-bottom: 8px; /* Space between each error */
}


.btn {
  width: 150px;
  background-color:green;
  border: none;
  outline: none;
  height: 49px;
  border-radius: 49px;
  color: #fff;
  text-transform: uppercase;
  font-weight: 600;
  font-size: 1.2rem;
  margin: 10px 0;
  cursor: pointer;
  transition: 0.1s;
}

.btn:hover {
  background-color: rgb(6, 167, 6);
}
.panels-container {
  position: absolute;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
}
.form-footer {
    width: 100%;
    max-width: 370px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: none;
    background: none;
    outline: none;
}

.remember-me-label {
    margin-left: 10px;
    color: white; /* Space between checkbox and text */
}

.forgot-password {
    font-size: 14px;
    color: white;
    text-decoration: none;
}

.forgot-password:hover, .remember-me-label:hover {
    color: green;
}

@media (max-width: 450px) {
    .form-footer {
        flex-direction: column; /* Stack items on small screens */
        align-items: flex-start;
        gap: 5px; /* Reduce gap for smaller screens */
    }
    .forgot-password {
      margin-left: 10px;
    }
}
.container:before {
  content: "";
  position: absolute;
  height: 2000px;
  width: 2000px;
  top: -10%;
  right: 48%;
  transform: translateY(-50%);
  background-image: linear-gradient(-45deg, #0d8500 0%, #11a600 100%);
  transition: 1.8s ease-in-out;
  border-radius: 50%;
  z-index: 6;
}

.image {
  width: 100%;
  transition: transform 1.1s ease-in-out;
  transition-delay: 0.4s;
}

.panel {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: space-around;
  text-align: center;
  z-index: 6;
}

.left-panel {
  pointer-events: all;
  padding: 3rem 17% 2rem 12%;
}

.right-panel {
  pointer-events: none;
  padding: 3rem 12% 2rem 17%;
}

.panel .content {
  color: #fff;
  transition: transform 0.9s ease-in-out;
  transition-delay: 0.6s;
}

.panel h3 {
  font-weight: 600;
  line-height: 1;
  font-size: 1.5rem;
}

.panel p {
  font-size: 0.95rem;
  padding: 0.7rem 0;
}

.btn.transparent {
  margin: 0;
  background: none;
  border: 2px solid #fff;
  width: 130px;
  height: 41px;
  font-weight: 600;
  font-size: 0.8rem;
}
.btn.transparent:hover{
  border: 2px solid #005714;
  color: #005714;
}

.right-panel .image,
.right-panel .content {
  transform: translateX(800px);
}

/* ANIMATION */

.container.sign-up-mode:before {
  transform: translate(100%, -50%);
  right: 52%;
}

.container.sign-up-mode .left-panel .image,
.container.sign-up-mode .left-panel .content {
  transform: translateX(-800px);
}

.container.sign-up-mode .signin-signup {
  left: 25%;
}

.container.sign-up-mode form.sign-up-form {
  opacity: 1;
  z-index: 2;
}

.container.sign-up-mode form.sign-in-form {
  opacity: 0;
  z-index: 1;
}

.container.sign-up-mode .right-panel .image,
.container.sign-up-mode .right-panel .content {
  transform: translateX(0%);
}

.container.sign-up-mode .left-panel {
  pointer-events: none;
}

.container.sign-up-mode .right-panel {
  pointer-events: all;
}

@media (max-width: 870px) {
  .container {
    min-height: 800px;
    height: 100vh;
  }
  .signin-signup {
    width: 100%;
    top: 95%;
    transform: translate(-50%, -100%);
    transition: 1s 0.8s ease-in-out;
  }

  .signin-signup,
  .container.sign-up-mode .signin-signup {
    left: 50%;
  }

  .panels-container {
    grid-template-columns: 1fr;
    grid-template-rows: 1fr 2fr 1fr;
  }

  .panel {
    flex-direction: row;
    justify-content: space-around;
    align-items: center;
    padding: 2.5rem 8%;
    grid-column: 1 / 2;
  }

  .right-panel {
    grid-row: 3 / 4;
  }

  .left-panel {
    grid-row: 1 / 2;
  }

  .image {
    width: 200px;
    transition: transform 0.9s ease-in-out;
    transition-delay: 0.6s;
  }

  .panel .content {
    padding-right: 15%;
    transition: transform 0.9s ease-in-out;
    transition-delay: 0.8s;
  }

  .panel h3 {
    font-size: 1.2rem;
  }

  .panel p {
    font-size: 0.7rem;
    padding: 0.5rem 0;
  }

  .btn.transparent {
    width: 110px;
    height: 35px;
    font-size: 0.7rem;
  }

  .container:before {
    width: 1500px;
    height: 1500px;
    transform: translateX(-50%);
    left: 30%;
    bottom: 68%;
    right: initial;
    top: initial;
    transition: 2s ease-in-out;
  }

  .container.sign-up-mode:before {
    transform: translate(-50%, 100%);
    bottom: 32%;
    right: initial;
  }

  .container.sign-up-mode .left-panel .image,
  .container.sign-up-mode .left-panel .content {
    transform: translateY(-300px);
  }

  .container.sign-up-mode .right-panel .image,
  .container.sign-up-mode .right-panel .content {
    transform: translateY(0px);
  }

  .right-panel .image,
  .right-panel .content {
    transform: translateY(300px);
  }

  .container.sign-up-mode .signin-signup {
    top: 5%;
    transform: translate(-50%, 0);
  }
}

@media (max-width: 570px) {
  form {
    padding: 0 1.5rem;
  }

  .image {
    display: none;
  }
  .panel .content {
    padding: 0.5rem 1rem;
  }
  .container {
    padding: 1.5rem;
  }

  .container:before {
    bottom: 72%;
    left: 50%;
  }

  .container.sign-up-mode:before {
    bottom: 28%;
    left: 50%;
  }
}
    </style>
  </head>
  <body>

<!-- Modal Structure -->
<div id="termsModal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:9999; overflow: hidden;">
  <div style="position:relative; margin:5% auto; width:70%; background:rgb(228, 228, 228); padding:20px; border-radius:8px; text-align: center;">
    <h2>Terms and Conditions</h2>
    <p style="margin-top: 10px; margin-bottom: 10px;">  By signing up, you agree to our terms and conditions. Please read them carefully before proceeding. </p>
    <div class="modal-body" style="padding: 5px; overflow-y: auto; max-height: calc(300px); background:rgb(255, 255, 255); text-align: left;">
    <p style="font-size: 15px; color:#333;">1. Eligibility<br>You must be a registered member or officer of the HOA to access and use this system. Users must be at least 18 years old or have parental consent to use the services provided by the system.
    <Br><br>
      2. Account Registration<br>To use certain features of the system, you may need to create an account. You agree to provide accurate, complete, and up-to-date information during the registration process and to update such information as necessary. You are responsible for maintaining the confidentiality of your account credentials and for all activities under your account.
      <Br><br>
      3. User Responsibilities<br>You agree to use the system in compliance with all applicable laws and regulations. You must not:
      <br>
            - Use the system for any unlawful or fraudulent activities.<br>
            - Post, upload, or transmit any content that is harmful, abusive, or offensive.<br>
            - Impersonate any individual or entity, or falsely represent your affiliation with any person or organization.<br>
            -Interfere with or disrupt the functionality of the system.<br>
          <Br>
          4. Reservations, Appointments, and Requests<br>
            - By using the system to make reservations, appointments, or requests, you agree to comply with the terms and conditions set by the HOA, including:<br>
            - Reservation requests are subject to availability and approval.<br>
            - Appointments and requests may be subject to approval by relevant officers or administrators.<br>
            - All cancellations and modifications must be made within the specified timeframes.<br>
          <Br>
    5. Billing and Payments<br>If applicable, you agree to make timely payments for any services or amenities you reserve through the system. The HOA may charge fees for certain services, and failure to pay any outstanding fees may result in the suspension or termination of your access to certain system features.
    <Br><br>
    6. Notifications<br>You consent to receiving notifications through the system related to updates, reminders, announcements, and other communications related to your membership and activities within the HOA. Notifications may be sent by the HOA or other users, such as officers or members.
    <Br><br>
    7. Privacy and Data Security<br>The HOA values your privacy and is committed to protecting your personal information. By using this system, you agree to the collection, use, and storage of your personal data. The HOA will take reasonable measures to secure your data but cannot guarantee absolute security.
    <Br><br>
    8. Content Ownership and Usage<br>All content uploaded to the system, including but not limited to text, images, and other media, remains the property of the respective user or the HOA. By submitting content, you grant the HOA a license to use, display, and distribute the content within the system and for related purposes.
    <Br><br>
    9. Changes to Terms<br>The HOA reserves the right to modify these Terms and Conditions at any time. Any changes will be posted on this page, and the updated terms will be effective immediately upon posting. Your continued use of the system after such changes constitutes your acceptance of the new terms.
    <Br><br>
    10. Termination<br>The HOA reserves the right to suspend or terminate your access to the system if you violate these Terms and Conditions or engage in activities that are detrimental to the system or other users. You may also terminate your account by contacting the HOA.
    <Br><br>
    11. Limitation of Liability - The HOA is not liable for any direct, indirect, incidental, special, or consequential damages arising from your use or inability to use the system, including but not limited to any errors, omissions, or disruptions in service.</p>
  </div>
    <button onclick="closeModal()" style="position:absolute; top:10px; right:10px; background:none; border:none; font-size:18px; cursor:pointer;">&times;</button>
  </div>
</div>
    <div class="container " style="background-image: url('{% static "images/bg11.jpg" %}')">
        <div class="overlay"></div>
      <div class="forms-container ">
        <div class="signin-signup ">
          <!-- Login Form -->
          <form action="" method="post" class="sign-in-form">
            {% csrf_token %}
            <h2 class="title animate_top">SIGN IN</h2>
        
            {% if login_form.errors %}
            <div class="error-messages">
                <ul>
                    {% for error in login_form.errors.values %}
                        <li>{{ error|join:" " }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
        
        {% if signup_form.errors %}
            <div class="error-messages">
                <ul>
                    {% for error in signup_form.errors.values %}
                        <li>{{ error|join:" " }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
        
        {% if messages %}
        {% for message in messages %}
            {% if "sign_up" in message.tags %}
                <ul class="success-messages">
                    <li>{{ message }}</li>
                </ul>
            {% elif "unauthorized" in message.tags %}
                <ul class="error-messages">
                    <li>{{ message }}</li>
                </ul>
            {% endif %}
        {% endfor %}
    {% endif %}
    
        
        
            <div class="input-field relative">
                <i class="fas fa-user"></i>
                {{ login_form.username }}
            </div>
        
            <div class="input-field" style="position: relative;">
                <i class="fas fa-lock" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%);"></i>
                {{ login_form.password|add_class:"password-input" }}
                <button
                    type="button"
                    id="togglePassword"
                    style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer;"
                >
                    <i class="fas fa-eye-slash"></i>
                </button>
            </div>
        
            <!-- Forgot Password and Remember Me Section -->
            <div class="form-footer">
              <label class="remember-me-label">
                <input type="checkbox" name="remember" id="remember" />
                <span>Remember me</span>
            </label>
              
          
          <a href="{% url 'password_reset' %}" class="forgot-password">Forgot password?</a>
          </div>
      
          <input type="submit" name="login" value="Login" class="btn solid" />
          <a href="{% url 'home' %}" class="hover-green">
              Back
          </a>
        </form>
        
          <form action="" method="post" class="sign-up-form">
            {% csrf_token %}
            <h2 class="title">SIGN UP</h2>
            
            <div class="input-field">
                <i class="fas fa-user"></i>
                {{ signup_form.username }}
            </div>
        
            <div class="input-field">
                <i class="fas fa-envelope"></i>
                {{ signup_form.email }}
            </div>
        
            <div class="input-field" style="position: relative;">
                <i class="fas fa-lock" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%);"></i>
                {{ signup_form.password1|add_class:"password-input" }}
                <button
                    type="button"
                    id="togglePassword1"
                    style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer;"
                >
                    <i class="fas fa-eye-slash"></i>
                </button>
            </div>
            
            <div class="input-field" style="position: relative;">
                <i class="fas fa-lock" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%);"></i>
                {{ signup_form.password2|add_class:"password-input" }}
                <button
                    type="button"
                    id="togglePassword2"
                    style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer;"
                >
                    <i class="fas fa-eye-slash"></i>
                </button>
            </div>
              
            <div class="input-field user-type relative flex items-center bg-gray-200 rounded-full px-4 py-2">
              <i class="fas fa-users mr-2 text-gray-600"></i>
              {{ signup_form.user_type }}
              <i class="fas fa-chevron-down ml-auto text-gray-600"></i>
          </div>
            
          <div class="form-footer">
            <label for="terms" style="color: white;">
              <input type="checkbox" id="terms" name="terms" required />
              <span class="ml-2">I agree to the <a href="#" class="terms" onclick="openModal()">Terms and Conditions</a></span>
            </label>
          </div>

            <input type="submit" name="signup" value="Sign up" class="btn" />
            <a href="{% url 'home' %}" class="hover-green">
              Back
            </a>
        </form>        
      </div>
      
      </div>


      
      <div class="panels-container">
        <div class="panel left-panel">
          <div class="content">
            <h3>New here ?</h3>
            <p>
              Sign up to access exclusive features and stay connected with your HOA!
            </p>
            <button class="btn transparent" id="sign-up-btn">
              Sign up
            </button>
          </div>
        </div>
        <div class="panel right-panel">
          <div class="content">
            <h3>One of us ?</h3>
            <p>
              Sign in to manage your account and stay updated with your HOA!
            </p>
            <button class="btn transparent" id="sign-in-btn">
              Sign in
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      const sign_in_btn = document.querySelector("#sign-in-btn");
      const sign_up_btn = document.querySelector("#sign-up-btn");
      const container = document.querySelector(".container");
    
      // Toggle between sign-in and sign-up modes
      sign_up_btn.addEventListener("click", () => {
        container.classList.add("sign-up-mode");
      });
    
      sign_in_btn.addEventListener("click", () => {
        container.classList.remove("sign-up-mode");
      });
    
      document.addEventListener("DOMContentLoaded", () => {
        // Sign-Up form password toggle buttons
        const password1Input = document.querySelector("input[name='password1']");
        const password2Input = document.querySelector("input[name='password2']");
        const togglePassword1Button = document.getElementById("togglePassword1");
        const togglePassword2Button = document.getElementById("togglePassword2");
    
        if (togglePassword1Button && password1Input) {
          togglePassword1Button.addEventListener("click", () => {
            const isPassword = password1Input.getAttribute("type") === "password";
            password1Input.setAttribute("type", isPassword ? "text" : "password");
            togglePassword1Button.innerHTML = isPassword
              ? '<i class="fas fa-eye"></i>'
              : '<i class="fas fa-eye-slash"></i>';
          });
        }
    
        if (togglePassword2Button && password2Input) {
          togglePassword2Button.addEventListener("click", () => {
            const isPassword = password2Input.getAttribute("type") === "password";
            password2Input.setAttribute("type", isPassword ? "text" : "password");
            togglePassword2Button.innerHTML = isPassword
            ? '<i class="fas fa-eye"></i>'
            : '<i class="fas fa-eye-slash"></i>';
          });
        }
    
        // Sign-In form password toggle button
        const loginPasswordInput = document.querySelector("input[name='password']");
        const togglePasswordButton = document.getElementById("togglePassword");
    
        if (togglePasswordButton && loginPasswordInput) {
          togglePasswordButton.addEventListener("click", () => {
            const isPassword = loginPasswordInput.getAttribute("type") === "password";
            loginPasswordInput.setAttribute("type", isPassword ? "text" : "password");
            togglePasswordButton.innerHTML = isPassword
            ? '<i class="fas fa-eye"></i>'
            : '<i class="fas fa-eye-slash"></i>';
          });
        }
      });
  function openModal() {
    document.getElementById('termsModal').style.display = 'block';
  }
  function closeModal() {
    document.getElementById('termsModal').style.display = 'none';
  }
    </script>
    
    <script src="{% static 'js/bundle.js' %}"></script>
    <script src="{% static 'js/script.js' %}"></script>
  </body>
</html>